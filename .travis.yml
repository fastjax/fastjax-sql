# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: dZOsCxMhIOamKOWY7xJ2CFhW1a8hF0Lr1sPAzs+mpYBZ2I7GTBtfGg2dkd6awS9PROKnDLwpBxjfQqhgG6nTukfaNOjHnQBfUuA22hh7/zYuf/tYR7lPxb9qZbKrOO49kdiFXKXQv7LmKoK0qJiFf2dCw5YtDoANtR9VZIqhKywQXh47kJZdQFuGylHtynGo55DY+9sxTqm1KZh+rClvIxYghqwkYJBf3wjVwBrzefjsCNoaNMEOtEwzuL72x5UhGKtrqfWy6jfQ0YtAO2Qw1tt/bMm0SXQYYiObj9ycX70mowg0hSYJZKSHlmIwW1+ttEzcEJMFJj5zwIUALfZAwW1sF0B8pahci2mUCIdiKMQmdmqCYn0cR5hmIY16ibGN5+O3NNCVIifJVQgxWrGyx3vVwJmvXCuLO57BOAgiDsAGM4imiSENG6HOitTHTm8PoqG7AxyTvaB7jtZA9tfiYXS+ozIH7/V7D/pHFwbRvgxNl8gwEha+OEcxLEElk7NaIDGVHjURVRcQUaZqEDa3PEj0zjgyLYiuqkWX71YwzWJWel73lOKtP3WdaECNfboyg5Okw3Ka4uetmurdNWe6/pF0eyNpum2AmkqLwh7PhfNMxXpb04q3ADyb+0YQ0F4y1AIvWWU8SaMSEyy0S0Td70X8l5zlAAVgIwf6iBLGsL0=
  - secure: YIOO+iss9l8o0+5IZD5n5sQfKasIrd1DkdqJcE46XIj+PFvfUBc/X3zSc7y6oleWfL858Gkw7o0Sj/rEauTJ5JqGk3O4Z3FA15I8ydiUkUo8+mVl1OjItTHpLqEU5BC4wvFVbuiE/66feeLAcQm35UDe3239gieu5JAkS8/IP+t/LP/J/W1SevVNC9LHsMg97BDIQgmhcrTrPVjypefq6U/3po8bSmb6SgqbXTO2Q/lXvo+Yirf20la+mLfvp9pP8mR+8/6I8oEH/cmP9RuKKgZzzLcrfKrQn7tZ9vbUrSs27OLesIIuXmh7Ds76g9AwwgJaHCUPaMsWyayDMwHxJF1uGF497g32o2vFAGZAbIksC/I+VLZsS8oVCHdt2jiymFMA2aS2v0hwy9smURvJJprjw2quqbKP4rWDgpakPPyXl3wS4JuLykbDXxIwi7rnZ6pQ2ELiBzgkLa6L9GUzc/2ujEbmOl/aeT6lGEWUqvTnYtdjgdsHW/JbapTpkSZGRaniLY7OAD4UVdOONMg4SZUuvRn/bTDF/Kv9Sjt1gwRPdMEOJZKaH/+IXc8fEX4IknMqoujuA4pWJVDJVoEnxaCkb54/2ZKOwoTfg4qtU5VYOpY4wXjBSncCzILvOnXnvMzGL0b1R0NhDCyGdOtCaMFub6oi5mmINkiXv++GpAY=
  - secure: NsI5C1ifbS9odWKHo4N8fseRdpqOfUINoKpxwh2qbdEPrqPwVvNvpZ+HaYU/QV+MsprfKX1KoInG04hNnIsU11P/dLnomjW9RGXh7VtpcjSm/kJCL49WCsP62lT7fmooouGNeHcu+qc2EIoSWUmLahG7++0yb6qr4+gQV2hwYwhJKYE5sXIY4kciQ2+W9MREW8DcFaI28crEIlzwpJDB26omcsn3mbiTSOggoMOdTceUUfPlxYlMFkOJpx4WSAGbceCBA9XoN9ws5ZkZ0a+kM33Fz91hpDHVxa2l4SI8E7KLFjT/d5Z7+T0QBgyigBvZ7KcXonVMprbakqakMpNEWT4fzKKJ/eSDs4vCODriBhY5KfCAe3R4FUt0HIdigecQu+jgFEbuF2uuxoHScCuDML9rOmhxNV/VoOkw0oWocx2LP1bI8ItmpLrAw0RartmymmaUm28eFUHw+wIKXgamGrIEXh9FbtT3WTMisCpnaYsxiFQ4goQt+I1rB4Ff2CYohQ4yC/DfpspUIN8xg1lwFv0cjIIYQNy1jxkzHD0WoMnQdpjf9DfOUk02m8SZu4w5kmPJNgSpEoCo8vc7t14ry5O8SZozS6gTd6Ga7BjzAkw7kpq2D1IxJeQizixmiqvcRPCD75uLQafgkgIFMrI1h2E8QflOGiyeje2HH6r3eXE=
  - secure: b2O6ejxlE7Z0bbeThCTsiwFkMbxzhFLafoFraQMLeZEjzhHf1BLo3npnYE1FwW04ECbog+vIgT7LsNzWR+mKBfq4JtKN/6vbCHKKRyWjavfRyCUUIUSndQz/tV3vdibO/TUaeXVHZ2gl4pyJdlqvSdH3sVbGa5vVYWFXofFDmHOntYN2+bPnPvJ0ZCA1f778oiXPYU2+T7ppinDdm5leGXgXZe9kG0I4K0el+Jh7jPRhdxPa3+Cx8UuOo+6dv/Ss6otd9L8nMwvHc+rTWWUorV0RYaPd9NNqmnkv5jT1Yffa/I+sbYBYRBaLXzStN/abiVnoJrUATOEcbB5eQBV+1LmQfGPGNjQ8A3g6pDoRNK9E4SqnA6cqLqSy1eqpCm/K9l8lW7S5tBBDBLKbDteCwzQTwnoQ7q6+7rUZN/7wpS8XWkS/OYE069NTVL9zPluDsDYfGDoHpBzC3vxE+UU5goVVO/bDqG8RSCMseKgqAa0Qs7wTwX6XiM7bM9LmwJ8MO/DRlQBOvb6RYfMvnojkBlQSafGnV0RhdTgJWLscULZ9n7W0NzJpANt/SGeUVViVpNtRFo8KKKPVuk+g755OrCZYtxOEAMhD92u4I4gbhjRcxRFA4fTbnY9VrhKRw7jzsZX2AQf3paAtTd4yGDvmeg+dFiGe4GgwQ+g1WE/o7wM=
  - secure: Z48Ru/BXeWA+y0Jcafsy9U3J1xcxI6Fph3zb7CGo5Fv1iWgSxvfvwRsyu0+A/5IWJWU51oTRCP9TLkiwEIlsGiuZW2JGBVlyay34hWQ1LyvebcjJg+U3GMlEJX1QMcZlmIh95q1josNyxE6ESbWQ9uhlzIf4T8NLdKpFexRDqzZ+eCX2sWgwUh9Id8suCwAc3rgX1k0lOYiK+MCIm9dY0jUtAZWXpkqvaZ6ogVFi/vlaS8obAF8wYVLLp8qwlJnCz7xYJvAg6U7gIqTunYvRe7w0Yi4x5jBCAh7m1McOAS3y6RvvraUcTDsZvrePvyqzQg1aQd2ZBqycHTniyMv/wFMZuqIFAgAwxjCbz0yPpmvQAuZyi0lbhtTzkcMPkuuf1GJxOlMS8sU9nSPKW6XVMEpJM12UJJXS+MvhT8P1koRKRok4JDE1Gf3OBp6klXw02oRuwcztItKqqsJ8BVzHCpuvX5kKl+78kaVEFjzYYw4r1hwNAk9BcuOjuB4vKFKwLZFditXnOi93iWp5CSAdCk9tWu0vBrAwdfzX1p3dKLtZVnYCUDV1xIGimqt3aPDnvlHbeI0zG3ouUqdqLboYrVv3IjJmVoF8YUAH0iPk02wV43DmZBxfVFvXnpMnlJhnMfjyV9l9ZO53LBRd6KBveGJE+cfFlflNeXL0zXLsqp8=
  - secure: qsEmVR2s+s9a19qa2ikJUh1HF6j4WKg66q7G+evWV5p4RE7Za3jBpJjHvJnq0lxnIWpxkXYqrxiEHpyQxEFrqdt5BGkUugOAyJ8tTUSpPetu0A8zu/y3Xfdqw6tB5dK7WxDfisIiPTXjAsS0sv/fMrsN052X9IuqzD466E/yp+DULuNodclZyPOo3gdb7IH2P2ZUY81wJXmey436T0K+uqN2ccsnN3fKH3v0Ot1HM7s3M3fvyc0sGK7oxpoPPFKk8BUZmWSH9uThogu0/Vuy9J7jUaKxTOD2WBDyPARAK3sq6lq9iI6tBc4onhU9QI7n1kSoIM4VvAAdo6U6b5gwkQys/HeDjfltIfYu6qBl6Y2cj6+CO+/hc7lKE1Oa37BJ83Oz+xASH8KzOf/VPj58FXyyNevIawZeT+nWM4dXdRyfUtHjMK++xazVjqc/yAOk1lvAxp6dKikqs6HILtB6u1fkoAssJEH2CWGIdrPsFh32nuYo0LW/TEV6ePVlTushUk6v4SYHfVYvnygQmcVZ6aTQ7OIWu7ZJgEg/0Ys6YKvUjRt8d2ZN8ltq6CM4GI2R5bGu2XHIoDIIy9JSaz1n4G8eeE6uLF0jJEuMR0TxJELuh3Cw1f4PVLjFPYCb3LCH/jYnfR88rTZNcEGAapar5di5sOA87GzI5xhN6l3iUfM=
  - secure: 
  - secure: b5OS4FRiJWKzfUXHgVSlFc9bmMEfBjiUPBaKwZAgpH9C19PQong6Zg8AEVQH8QPfa3uvkSJN8Dm4OwDw1GQwaZdLPzQY7NYlsOi0EdTs20x1Cas5/Jmf3tz80wPhVkd8MzH+n6He+2fMpAtFVxBlUIuJZXmc/z+P28sXPitvZwxfAowiQtEDujT23BoN65W1ERwmCUCJKN6y+uBvMPc3dTHg3Z9b1oh3/rutkmOyAtvNns3O+ZJHOlD5tFzEqzkxlkyheQ6mxMGjqZ6sFfHiVAkfgtEkOXy/j0nlL02KvbmuZnEqI9taFtXgVBkkh1iPUfmahjmWcVNPfzDAaqmdEdtePe/0JLq0bV/gYWbhHDxf2YSf/r7PfEXhSJ1Mnn1CUe74Gk7ZA4g1fHR6jxoULETymTtFF+1+AsFnQaOQZmcG7znIg7U4XWhiO6zD1Io1TtZ99zlya9uFFir0kG8EX1ItrB8DweS1Gs87Nc4OvKvyEEH8/0xwaFKWKsHoxskTJx+Zni8ev16Ml+DXj/IaYpc5+3uorX4CCpjdS37+4qwPF+ma8Z8QwQdRztFmYV6sXMk848gbg8zJs/jkr/ZN6NtwZMCrMiapHPRtptZxYV5qC8AbRr/reo0xpfiTiKwfAGzsYpR1A9E697YDtP4rGPi7kZdns63yStfRb7+p3Kg=
  - secure: JMlC1SmY5XzVu8NJ4ptcvnbfK/Qd6N+X1Xhq7yZdWH2ypuGxindyOuwV0YCrnchUpCvbisectlBUz4mR1qkr3smKisuX9BkHWSrcuFlK81JWswwhN6T07UCnJ0Mz7YUuO3vXb4Ri1aSfZmaY8xj7PUEOz1ugkBVVgsBRFhw2Z8FB8FHCwT1oz4UYVGloVha0P1kN4XEpRTwgW6c2xT6HI71BKilmiH+681tTD5iqCVsSQ5+of3VSFRwAUPjP/kOyDFjLXoUN95WiXgeCQgOSZ0fGo9GX1vMfEiVj+ZK6fSB7QyEuDpAesE52Iqchu/a5W7P4DkF+d2KxyWiQ7vtGPMeTyua3icjXNUwT89+GVdgiuyEs414Wy44mszh7N+J+BzhcZwppCuJks9HBhmOhZvhme2m/M3sCXs1hR3poxL8jY2EF8cpfRttmwzaEZKDj57Q8lxtHVRmNwKNqrkGyRaWRMoXE6gabsmEjiIpGVdxB0Cil3OIpF2apxO0hri8OZfauZctjJlzIoJwUSp1rYbWfmUnvUOKRtCnehir7UGF5ZBwmH8zHevYKzeYOwif+m+RXKIxo6E1QdBFewN9f1xsvjXkJWW4XZYwMCaZLWZUwF702kPWRp9lM3w4aljGuhfz1ufN5BU7BfL7soqsOyBfbf2NWjwdBA49fgT3qYFo=
  - secure: giNm9jtY3TdiZNDgB0B2eOo7dTy72gjGnt2PnENVmspjdw7RWgKX0bLZ5hImAWUuVIvxXC5yztL9dReCF6C4sAb24UW1qwVOZ2Bg/m9Lcc01YeID+ScwuHoITHSGrGUTsiwQVc2sBkJeL82AA3xwn5LunHNCv79jZi1dI7V5tMCpqNmI8PQrfoZTPpoFKVRWyrWFN7BnwJeuGE7pJreFVY78SbYSQ4HL0zRC5f2wmbZfvSl5XtPbvaL7+YJ+7gN0CWv/LELb4dQDldqw2TykvyOm5mj4uX6AfqymHdHstuWd2SsztsClguh0O/TndF8QCuUbWohmD1D5N9jgbuZHBRjM9mMRk035p6S4nv0fY/zIeeku94CJhdwnxWdh+k+A4/oz/gUKVHuAk9ZwLSg331xGqidMGRfeNmlkjHTHAywOU6CmV+4shqYl/EeMq2aFcFwJm/YBtKWMlHMYDID/LkkM27BfTzd0t6teGo0QZdlGeP5K2+JRCAVBqj30RMcTt2769NoeYD02OuFcaOk3d1glKE7g1RMQxb7Ybf0G5Hda/JjMyCEa9ilEp/4H+RcqEnIXTOkXZu/3i7U4uXKCzqzzDngWy12IPwoPLpU+g8qfNy4r5C9Za/aiTf2U9qp0V+ZF5vHw53OJD7rhTgdO+pH21YnkZtm/p3ot8fx7U9o=
  - secure: OXtVjx8lVBea6PRstyGzfX400mNaKoKWdTHo6v1WZvSCAQGyG4CjSveNlQvFjrbaHlyHMAFJWlWoXW7dlEq+SABFttRaaeZblVk5EXHTxi6ghTd+YmM9Ral2Lp6VsW2rabNweafFoK46SPXpmKI1sfKkMTHq568VSHWQPnc43NWATXd/AnSxi8f4nG7SFhowK2ygA+8OUxg7RLqOBKLxGQyf6hN/GTC8UPE+78dbXeJYQdoPe3f8NEyEIq3XnhsYLJg78bJJCFSNQ1atL8lRH6dQ4XFcP0zgX13W4eYxk9shEx0MmBjh+3MHsa3VfnAaHL/UN1n2PodOInX6cynDEUathSLiMUza9tGOdldlwz68mTOtUgTeTbN7b3bTLwCGuurjG8QdTrxMP517sqfaxDifJQAHSsH4myEYROKeUETt96Ff59eZxNnM+oeH2d82RSSpZXa3RFPvGYNQ+be5S3EdiqrRH8tJHrqwUc7k4j/AGLtQUe457+WBNIuimky+lWvDvejK75ATwX2/mhpHfytBc0UXreQuh/x5FfgX40BWLwfhUxTPx5aOm+OqdMxHImhPAqZbRwba/BhWCcpYMEvr0c4Yo9X9wlGweysQjas90LFo/rxxBQEn1kFhcEn0x2YqWpX5dUzik5F3HIGgNUPz4ziJSmUmxZTgi+1xw8Q=
  - secure: nZ5SgSq6D6jMOqAEHnyOYD0CwaMzxL7PwNeC7VnTl8jtZBIfG9g6qGKM8zrUeHeO65UPVBk7Ys3r7bo5TQLsTtcIYLxaKMQzdtO+Tqb1NYXh2va1suhdSLw5mNMi/4ahzofc5CL6uCEZelwAgPaaiNK0aPdhwSEWIMVUm6OCYkWShbpsBLNXQRp6E7YOL0tkzt2+4kWAiSS8aNvnDz9QAktDAUL2u/pGT5I11CRDZucpDzys8Ves+xTxmRcT2BO9FLcSarMMvH4VDa+PuA9Pj7+u2aeDjSozcFqVHnRPw3kXn8aoAaZxlxLtu1YDtY7pq4M8NPgMwEBea+gwikR42wNtw8ikeWm68ApMDHhfdBZ0Rfu806SLhsQ6RmbHe8NCNCUgQ61TmOzUPtpBLzTl39eRvFMPNZxAnvGZezhckg+GXqmO2yjleuSSdMD9i2YyC7zCpzMg5JB0sT6a7MTZBctNVRIR3TtidNqbSPD2xW7g4v/574OkR1bouSct1NTR8hjLxqAEWtyNd6DA73AgKMbIeeuUOK9LiLbxMf4LW3abMUZK19nSXEUf+gQiPk0lF4eFAYFhz58DHxfz6ActeaQx1HN6Gxkof+MkMLlevOYRZsgxDPNDh9QDgwpDQNH/lTXU62ttutUsdyNcqxQRxJKWa5Gl+FwABM2xedm1+tI=
  - secure: eg4gTWsHg2GVlZxbInaOaTAnAGXqyJvSwyKPOw1oJ1t7oyZdYpnzorTUGe2lBZ4w8KlF4ffnmuoK8N2s04ho4MKp6Zq1SW5YUKVj4KCnXw5WLERqVJ9jwqLb+CAxP/WKoKUL21zsxd/3mgMrUZ/LvEL1sUP4JhzYMmREzHH8u1HK6uJgHt0RT99//IsQHwLSnVK/OtwOPdy4qUe5+5T2SSTpfSjWPsisvG1X7Ar2i36Mb3Tcl3zz3JC6gMMDTdYXEkpgrAtRD2QISF/w/JGTtc87PbS8OfdHk63tdNkHOItELJzfKBPTYCIf7tSPqqOD32zqtz1z/fU/qiIomDXj17kFWCDLB9SVGFmSHBAzFd/Xu8ydNsCvDWFEABghc5V+aJsYYGaXwssAQwIDhJd60ji9bILobKKZYKhYcGGG6JjxpCVCLGMF+CMbOTR1FWqZPKypVJWepnQGpjArHeoa2kjqlacv1pGzKyQwP3CGbXt+OULxhax4aeZmRZwgHIb2IeE2ArCyUObj0C1lNd16ZhJiq77CdLEeq0mbzffJPmCeI6EuoEmSzLQhRhV8ZLvrz1BYZDISZDrdmANmuDbYrWMYpAAVmvbMpEBYJVxWHXPlF8y+icCkQ143ZakNEdsp5///QVHFfnJlQVlKyfTfMbymurIQ2YzPSUlUz8fxgnE=
