# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: BRTX+OOHkVAMqa6reNQKGry/PW2og5G+jG8i6I7OAiFPGOSTMoLitWUhacs7qmvni4N+dsDP2nuuUR0HWUUtIHwG1pHPYnMVo17MfDam/p+NtDLLFON+1UKdllI5QTVSLrs5hwZ3iw4G8XJt4DEdsMjDAZJgzgNQVIjQ2lenduoygwhiS23Ak02UOFXF/yB71JaxZvifi+gpm2zl+0o7nn4ob8THG3fuNGSxvqG2j8fqVnlnPf3Y8EupzPfrAdzVgXQ6XpmpsMn0YrD9rxm2SNNfkANI3HBqfnYcii+7yxi0vT9SOCnVmhm366g/rR8b+fUtEDWJBmilwWsHccLVzBAu4CUIDMFMzJlEvipKRiazr55VcrQeXlhQrRdeeq0We+d/MH4osJb4RGdOHsaYr/TrOJ41rKRAI0J0vK9tf3jPiBnx71vwmysMH1C+iIF4BXaxnF73EZA6Gaz5jb7wj6+oV/MkWHypebRS7id5jHuYa85mxFH9u94usPfXSCcKmEcyTpkxlNbe/rSW1D/j2STqe/a7i4R2YsJ1JTdrEKSzwqab0q6irnEu0Jh72mSWdL8w25TydCnlQN5p696JXduc5dkQvSOaGkbdKYtoIkdmGDZo+4x0yrGgBPKVoSJzp8tL/m5hBdDkyVYBLzmtxdbsfKKwY4yUqEYQ6eL9wNs=
  - secure: esJwCZxmgEQrJp8oYvglvIUe4AkXtnDLgWjP0TY2JJlor/GKyPrM+SLn0aQmtoHtT8NeSWxLm7l5D3dC6gRXVp7C0+f62jPLrd4o5PImiladadDFuIifHjIg/lMuunUQN49WpdK1xCT8FlNAcRSGdXUX+VlOfe/l4jlCBYfPBGJ8xMFmlkx+FrKYuCKsfsdTpGO6XhqUH+dE/UnAUrnc+MgkaeU66ofespZ1aGlqR2y/xpWfPZIqL1Ca8lQnRniI8T0Gx7qvIqNe63sJF9M20yrLrHe4pOIVJB/L4lAPlZspx9nsbIShpXtyANHWEa4rpG4K4+tQvU6t5yljrlcHO/hJeGyhBZpbo+sQKx6UjRXEVFpvNLgqX+fnqjyjNX9UFnheT4MIAfhlSz3/BKxxs12draAkIxi0DctjdA9nMMHfbJcXtl2wUBfXVnn2jFhXeS+AG5w6SbM609TwzW1o+dnJ/es+lfVYZ8xOSMvwUHiiHfDscpGXRnCbIL/jA+nVwBoalPXFnTDFQe3icrRJNDDjgJxVqllsLDzrI5nXaO9AhbOidGhMp4cxL4DKxNUqkp0sy7CNrVEv8hefUenH2Xqe5iOkRRp4jNFw9c6GcitgeprT2+EUY1YC7ZQhU1OidE9fC7LIgbTiRisqZuzyncBRHTzj4w+cC9WHsfyzT0I=
  - secure: WU6tBrZJbogWlAeQTZd1Fr9YQcr3sGGnnh+0khIZjhdBgxjqxpnl6y9GyomDJdR3te0oEVSCRoAPGqt0fh4JQ/nUa3VW3Vq4ypvJoF69MhumdpTVijCR57K/4ZrZx8LvenTV4E3A9lNFnEnY2SSDdvTlsER/NrYABilhBOHjFlERORJt+BKPjttTREf75kSpSxanvn3OFbA7+z+dM2mo/D8pN74Gigpw5sVedbe+WibDTQKNtF/z1U2u4t2rYMnQchqmbQP0amU/k1XGfgSue7lXR3Szq/yrQ2cFENVRGDeewHE87/SJR61nA1uMqUZO05wRvydLASEqK6Av76J+31dJNaFn/5GYMwTq2QBsXWknLfMJhCDAWBRGyA2Qo/3/Xq//wUoJlj/fkV0uMvyMwtE2/1OSNYRGkEqqKWtaV7y2ICpCfcfslyU6ypkdgxEiYKCV/RODp2/X1b7EaPDp7tiYhis1DkN5LAaGmRGmgZq/hfQEaScA9/k778KVUjz4rx6WPB9IxvY0IquMhWWDxbeeNt6w1v4Ox4wBtQe7q9+k5TrLjPDx3Z8FOZcaB4e9Hh4Rjv2Ga+/lAlecAHB1y7KQE+GLH3iRURdLCU2fVfTv1ZS0joVZs/RWJ69HBYEZyN4PkGfAcQAscMkTH2dNLfVTGOCH4nmyPOh9eCv5Rps=
  - secure: GP1C+rEN1rWAlcGm35Hjj9KGWHsZzdlsOS4LqoaUZiUOtjzFYNhKJcD77Xyp9wnIcm7tgO78Pa8gYArGZKJAzMRP+8RdrFFgnwveqSGSXHQzwFA9a9pTFCDQ/ni1949uTdAkcwhbqLIrs8U+Sq6MEDYebMDUyeJ75KEkMXQwhipVMbQ4W3mhEkDTSeD59FUXL+u+Rzmq+m/JVxwcuGeTEJR0Ijl9mUaoV0SfbdTccJRYLED6G/9MNg/hG8HriXtqIodkOF+S6IdGjrbUqeG273aLkj8e9vCj7DbNUpOSgns2Hh7mng8IfoPYb40E6ni6l6moXtWm3HICi87RvVCZuGn5t7RHs1ZTHWvJ0wgsoD3f7pn5r0OiR2baci8yB9rjQ0sKUBQZw+G/fsBCP3DlzPVVM43QAZe5H01Cte54oLRuw9untcIrCzwhMIsdk81GoNF0EMRa6V/3JvAKtq42Crqm32n4cUmU2oQk8+XIlu1cyu+kc5w9FzGCDFraZzinDVKjmmrO+ZL7b/WE5c9kdysZsEi5Oru6wZ+vqK+HbxlxXxtBd4Pfu9e2anLxLtoOVedsNXnPBVKpI9uW8bSoaKN7dQxfzWVl+/+TZRDG6WgXj600mpLXm94pthnlFMExXyVRiwdt5XEMhj3loeS31DpJuLPyMtRnt4W/P6cil9o=
  - secure: cpI48zJd72iEkTfGEFthEN2G2vDgjkxSpgPWf9GYp1y62KYnOUYrjU9LgYxlRi/9Ew01kRpGs2QNf8+rKgqmhOZla21xC4IEiVHkqIc2C9bZyQEtYenCHpqDtIL8iOHu/tEn1rDLd/mGXfTRBq9XUlg/Awx5f7oNSK6neYFe+1DtJYj0X5JydaGo85N8T7cmQyKAsN+H1uDE7a/W7I4GI2gh8UjsHi4sVZqZQe4eX4gNd/NIHEFek7dOeosIAUnCx3g4cUTI9BC3ttSixrzRzltAvuPSI9ZLoPaL2vp+5zibhKwpPa/blM/IV+yyqe3KJ68L/ohGZS9LE6NuPoDi3zFujxPRdyHJve8JuyYiL0/TFz9UnUMtKuBRl2a0oy0jzn6Ru9bX3aRN84/DZILsaZVEBGUCMIYkFpBw/2luFjRTTRqZse0TA6YLsOuxqTCLEwUakhqNAbxPfb4XRUogmSbtoZk3GvEtVLrlcV4LeJcC2cCAjozJSgEBl15jBwN3jrFu0P86kNeOIAC5DHJistpZdzSDHSesH+sQT+TBrSc/6Ej7VMWtElQAsyeAF3eD1ktMDB6KI30cPUuIdsz1BYwGCu9cqknsI0xlLs9BjzzsItuK2PRHUxmmMkmU0j8Hy5rnFaFNkGi99TsSb82Rcn6Ih8UOMx9zlNjn5v2k8Mo=
  - secure: k698BVX+2kEKliCJo8WrPiK+tpFJJj7suCF8jPG8aevuVjTED6Y4PrByLF0HObuUbo0A37KP+aXOqWGiGkm3Sv15XKGF3QxGG+eh7vREVxGO4+yC66tUdaNKIiyi7iRDW3o1P64UHLVU35fNEG0AmOWmYjZnYQMrHnNwK2jsDMyq86t7Y1VGUnxwJ/u4MweM6JFXprVhAAP4kbbDtu5IBILgkgdSgTon3e4s/hcMTdxMoF5qP43zqiY+YLBKzUpW6BY+kCCOOr1ww+6wNGslIUkh7PkJ5MHiCsPdrAaapxi0ajHI1clolRUYOZrvwh1+oZritp/NPpeWO/miB9y2WOTvF5cnolrfDNWOxtUuUrlOM6H1AvRAg2zFJG/J9MaseYcBHHkp9tIaVtItbcozXL7eOr9Gz22gCw7whOfVi41fgUYo/6qYCv/FBLUxhQgBq9HCFqLvUklzLgKomyT/pft5AGk9ohgyXPMKSeyMidViKRqi7nI8KPVV4mrJIIIBxvGhEN9zil5hQcpTNwt2dtNsxNTwI6gPB4z3FaPBYJKLRSTYvAXqQoXFHJbTbOYnJ9WA164DgoAp5b8bJs+fCdai3i224DmDqG8Kh5GL4jqlferm772IryDBJ6GLTDqoEqm72vvZcT6PjwswjvQxOIiFKFAhnxkndZqxdshW/40=
  - secure: ZjpIwXThKhWmZy3LBW7QIyBdjZFRkk0Y8JsAwtWKURLU/hr16qP3ohpEJZzXkOSxLYIsoM5fkdARF/91De2BHl7wG1Ggr/5hGLXnHLrhpJCf0JGjQpTz4Tno5Qe1aug6tgKgPO7bzAa6g9GVDQtDOf6Tnmzf3ziD6HzupBFCPenU7cvJVNridOjzQRXcNYg02VDTge4e4shI2f6Nu5Ge1R/HIlgr9SULtevmuZHRn8MX9c4P5+QrRrXhmSiaBLgab0jF6DqoHI6QmoSk/yGqoO1qjhMhVO/rD5llIQB2lkUwgtnRtwnFZLuZouJfwFoutirXYX/dZbL19yyAwRdHmI26gyFcVYlTXALfCDoeCLzMO2gTavmPJHoVEN2fQJfvxpGZdO42M+wgZfhYUcGbujgSBwTykL4+3k0fvGyzmBHYi6pBLpTfjZsVrPdN5KMIaluGiDqVMHhEKeUnl4XOExSofdTp8k0Yr9okQ71xe9rj2m/7TUJGliDOleOLpb5DW02H9D7A0ML2gzlwfMIiyeFmn39qkVpnOtepCIFChpeR3z4uZ16ryRes5tUwOk5qXW7mhlG/y/DYlMRucLyZa1S/0YA0pSyKcf5MSKBtXyEFbSQBjIAGF+y4LpyzHB0QjLhefX+idTgZSmk8C2Gqk+rumoj0E1jarYfmScGqZPc=
